/*! 
 Build based on gin-vue-admin 
 Time : 1707920194000 */
import{R as e,u as l,a,r as o,o as u,c as t,b as d,d as r,w as i,N as p,O as s,g as m,k as n,l as c,E as b}from"./087AC4D233B64EB0index.js";import{a as v,E as V}from"./087AC4D233B64EB0form-item.js";/* empty css                      *//* empty css                     */import"./087AC4D233B64EB0tag.js";import{E as f,a as B}from"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0scrollbar.js";/* empty css                      */import{E as h}from"./087AC4D233B64EB0switch.js";import{_,a as C,f as y,c as E,u as A}from"./087AC4D233B64EB0selectFile.js";import"./087AC4D233B64EB0date.js";import"./087AC4D233B64EB0dictionary.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0hasIn.js";import"./087AC4D233B64EB0index20.js";import"./087AC4D233B64EB0isUndefined.js";import"./087AC4D233B64EB0index21.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0image.js";import"./087AC4D233B64EB0upload2.js";import"./087AC4D233B64EB0progress.js";import"./087AC4D233B64EB0cloneDeep.js";import"./087AC4D233B64EB0sysDictionary2.js";const D={class:"gva-form-box"},j=Object.assign({name:"ArticleForm"},{__name:"articleForm",setup(j){const g=e(),U=l(),k=a(""),w=a({title:"",subtitle:"",keywords:"",description:"",author:"",company:"",phone:"",source:"",content:"",extend:[],thumb:"",isLink:!1,link:"",sortOrder:0,status:0,publish:0,viewCount:0,ticketCount:0,awards:0,top:!1,auditorId:0,auditorFailed:"",category_id:0}),x=o({title:[{required:!0,message:"",trigger:["input","blur"]}],content:[{required:!0,message:"",trigger:["input","blur"]}],type:[{required:!0,message:"",trigger:["input","blur"]}],category_id:[{required:!0,message:"",trigger:["input","blur"]}]}),F=a();(async()=>{if(g.query.id){const e=await y({ID:g.query.id});0===e.code&&(w.value=e.data.rearticle,k.value="update")}else k.value="create"})();const M=async()=>{var e;null==(e=F.value)||e.validate((async e=>{if(!e)return;let l;switch(k.value){case"create":default:l=await E(w.value);break;case"update":l=await A(w.value)}0===l.code&&n({type:"success",message:"创建/更改成功"})}))},q=()=>{U.go(-1)};return(e,l)=>{const a=c,o=v,n=h,y=f,E=B,A=b,j=V;return u(),t("div",null,[d("div",D,[r(j,{model:w.value,ref_key:"elFormRef",ref:F,"label-position":"right",rules:x,"label-width":"80px"},{default:i((()=>[r(o,{label:"标题:",prop:"title"},{default:i((()=>[r(a,{modelValue:w.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value.title=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"副标题:",prop:"subtitle"},{default:i((()=>[r(a,{modelValue:w.value.subtitle,"onUpdate:modelValue":l[1]||(l[1]=e=>w.value.subtitle=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"关键字:",prop:"keywords"},{default:i((()=>[r(a,{modelValue:w.value.keywords,"onUpdate:modelValue":l[2]||(l[2]=e=>w.value.keywords=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"文章描述:",prop:"description"},{default:i((()=>[r(a,{modelValue:w.value.description,"onUpdate:modelValue":l[3]||(l[3]=e=>w.value.description=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"文章作者:",prop:"author"},{default:i((()=>[r(a,{modelValue:w.value.author,"onUpdate:modelValue":l[4]||(l[4]=e=>w.value.author=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"参赛单位:",prop:"company"},{default:i((()=>[r(a,{modelValue:w.value.company,"onUpdate:modelValue":l[5]||(l[5]=e=>w.value.company=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"手机号:",prop:"phone"},{default:i((()=>[r(a,{modelValue:w.value.phone,"onUpdate:modelValue":l[6]||(l[6]=e=>w.value.phone=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"文章来源:",prop:"source"},{default:i((()=>[r(a,{modelValue:w.value.source,"onUpdate:modelValue":l[7]||(l[7]=e=>w.value.source=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"文章内容:",prop:"content"},{default:i((()=>[r(_,{modelValue:w.value.content,"onUpdate:modelValue":l[8]||(l[8]=e=>w.value.content=e)},null,8,["modelValue"])])),_:1}),r(o,{label:"扩展属性:",prop:"extend"},{default:i((()=>[r(C,{modelValue:w.value.extend,"onUpdate:modelValue":l[9]||(l[9]=e=>w.value.extend=e)},null,8,["modelValue"])])),_:1}),r(o,{label:"封面:",prop:"thumb"},{default:i((()=>[r(a,{modelValue:w.value.thumb,"onUpdate:modelValue":l[10]||(l[10]=e=>w.value.thumb=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"isLink:",prop:"isLink"},{default:i((()=>[r(n,{modelValue:w.value.isLink,"onUpdate:modelValue":l[11]||(l[11]=e=>w.value.isLink=e),"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否",clearable:""},null,8,["modelValue"])])),_:1}),r(o,{label:"Link:",prop:"link"},{default:i((()=>[r(a,{modelValue:w.value.link,"onUpdate:modelValue":l[12]||(l[12]=e=>w.value.link=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"类型：article/page/video:",prop:"type"},{default:i((()=>[r(E,{modelValue:w.value.type,"onUpdate:modelValue":l[13]||(l[13]=e=>w.value.type=e),placeholder:"请选择",style:{width:"100%"},clearable:!0},{default:i((()=>[(u(),t(p,null,s([],(e=>r(y,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),r(o,{label:"排序:",prop:"sortOrder"},{default:i((()=>[r(a,{modelValue:w.value.sortOrder,"onUpdate:modelValue":l[14]||(l[14]=e=>w.value.sortOrder=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"状态 1:待审核 2:审核通过:",prop:"status"},{default:i((()=>[r(a,{modelValue:w.value.status,"onUpdate:modelValue":l[15]||(l[15]=e=>w.value.status=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"前台显示 1:是 2:否:",prop:"publish"},{default:i((()=>[r(a,{modelValue:w.value.publish,"onUpdate:modelValue":l[16]||(l[16]=e=>w.value.publish=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"展示次数:",prop:"viewCount"},{default:i((()=>[r(a,{modelValue:w.value.viewCount,"onUpdate:modelValue":l[17]||(l[17]=e=>w.value.viewCount=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"投票次数:",prop:"ticketCount"},{default:i((()=>[r(a,{modelValue:w.value.ticketCount,"onUpdate:modelValue":l[18]||(l[18]=e=>w.value.ticketCount=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"获取奖项 5:无奖项 1:一等奖 2:二等奖 3:三等奖 4:特等奖:",prop:"awards"},{default:i((()=>[r(a,{modelValue:w.value.awards,"onUpdate:modelValue":l[19]||(l[19]=e=>w.value.awards=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"置顶 1:是 2:否:",prop:"top"},{default:i((()=>[r(n,{modelValue:w.value.top,"onUpdate:modelValue":l[20]||(l[20]=e=>w.value.top=e),"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否",clearable:""},null,8,["modelValue"])])),_:1}),r(o,{label:"审核人:",prop:"auditorId"},{default:i((()=>[r(a,{modelValue:w.value.auditorId,"onUpdate:modelValue":l[21]||(l[21]=e=>w.value.auditorId=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"审核结果:",prop:"auditorFailed"},{default:i((()=>[r(a,{modelValue:w.value.auditorFailed,"onUpdate:modelValue":l[22]||(l[22]=e=>w.value.auditorFailed=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,{label:"所属分类:",prop:"category_id"},{default:i((()=>[r(a,{modelValue:w.value.category_id,"onUpdate:modelValue":l[23]||(l[23]=e=>w.value.category_id=e),modelModifiers:{number:!0},clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),r(o,null,{default:i((()=>[r(A,{type:"primary",onClick:M},{default:i((()=>[m("保存")])),_:1}),r(A,{type:"primary",onClick:q},{default:i((()=>[m("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{j as default};
